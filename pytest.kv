#:import MDNavigationDrawer kivymd.navigationdrawer.MDNavigationDrawer
#:import NavigationLayout kivymd.navigationdrawer.NavigationLayout
#:import NavigationDrawerDivider kivymd.navigationdrawer.NavigationDrawerDivider
#:import MDDropdownMenu kivymd.menu.MDDropdownMenu
#:import MDCard kivymd.card.MDCard
<MDMenuItem>:
	on_release:app.acao(self.text)
NavigationLayout:
    MDNavigationDrawer:
    	NavigationDrawerSubheader:
    		text:'SensiveDays'
        NavigationDrawerToolbar:
        	height:350
            canvas:
        		Color:
        			rgba:1, 1, 1, 1
    			Rectangle:
        			size:self.size
        			pos:self.pos
        			source:"20200210_085925.jpg"
        NavigationDrawerIconButton:
        	text:'Tela Inicial'
        	on_release:
        		app.root.ids.sm.transition.direction = 'left'
        		app.root.ids.sm.current = 'Tela00'
        NavigationDrawerIconButton:
        	text:'Menu de dias'
        	on_release:
        		app.root.ids.sm.transition.direction = 'left'
        		app.add()
        		app.root.ids.sm.current = 'Tela01'
        NavigationDrawerIconButton:
        	text:'Ajuda'
        	on_release:
        		app.root.ids.sm.current = 'Help'
        		app.root.ids.sm.transition.direction = 'left'
	ScreenManager:
		id:sm
		Screen:
			name:'Tela00'
			BoxLayout:
				orientation:'vertical'
				Toolbar:
					id:toolbar
					title:'SensiveDays'
					md_bg_color:get_color_from_hex(colors['DeepOrange']['600'])
					background_palette: 'Primary'
					background_hue: '500'
					left_action_items:[['menu', lambda x: app.root.toggle_nav_drawer()]]
					right_action_items: [['dots-vertical', lambda x:MDDropdownMenu(items=app.menu_items, width_mult=4).open(self)]]
				BoxLayout:
					orientation:'vertical'
					Widget:
						canvas:
							Color:
								rgba:1, 1, 1, 1
							Rectangle:
								pos:self.pos
								size:self.size
								source:'20200210_085925.jpg'
					MDRaisedButton:
						size:root.width, 100
						text:'                                        Meus dias                                         '
						on_release:
							app.add()
							app.root.ids.sm.current = 'Tela01'
							app.root.ids.sm.transition.direction = 'left'
					Botao:
						size_hint_y:None
						height:1
					FloatLayout:
						size_hint_y:None
						height:100
						MDRaisedButton:
							on_release:
								app.root.ids.sm.transition.direction = 'left'
								app.root.ids.sm.current = 'Help'
							size:root.width, 100
							md_bg_color:get_color_from_hex(colors['DeepOrange']['600'])
						Label:
							text:'AJUDA'
		Tela1:
			name:'Tela01'
			BoxLayout:
				orientation:'vertical'
				Toolbar:
					id:toolbar
					title:'SensiveDays'
					md_bg_color:get_color_from_hex(colors['DeepOrange']['600'])
					background_palette: 'Primary'
					background_hue: '500'
					left_action_items:[['arrow-left', lambda x: app.curre('Tela00')]]
					right_action_items: [['dots-vertical', lambda x:MDDropdownMenu(items=app.menu_items, width_mult=4).open(self)]]
				BoxLayout:
					canvas:
						Color:
							rgba:0.12, 0.13, 0.14, 1
						Rectangle:
							pos:self.pos
							size:self.size
					orientation:'vertical'
					ScrollView:
						BoxLayout:
							id:boxi
							orientation:'vertical'
							size_hint_y:None
							height:self.minimum_height
							Widget:
								size_hint_y:None
								height:75
					FloatLayout:
						size_hint_y:None
						height:100
						MDRaisedButton:
							size:root.width, 100
							md_bg_color:get_color_from_hex(colors['DeepOrange']['600'])
							on_release:app.popup()
						Label:
							id:lat
							text:'Adicionar'
		Screen:
			name:'Tela02'
			BoxLayout:
				orientation:'vertical'
				Toolbar:
					id:toolbar
					title:'SensiveDays'
					md_bg_color:get_color_from_hex(colors['DeepOrange']['600'])
					background_palette: 'Primary'
					background_hue: '500'
					left_action_items:[['arrow-left', lambda x: app.curre('Tela01')]]
					right_action_items: [['dots-vertical', lambda x:MDDropdownMenu(items=app.menu_items, width_mult=4).open(self)]]
				BoxLayout:
					padding:30
					orientation:'vertical'
					Botao:
						id:t2lab
						text:
						size_hint_y:None
						height:150
					MDSeparator:
						height:dp(1)
					Botao:
						id:t2lab2
						text:
		Screen:
			name:'Help'
			BoxLayout:
				orientation:'vertical'
				Toolbar:
					id:toolbar
					title:'SensiveDays'
					md_bg_color:get_color_from_hex(colors['DeepOrange']['600'])
					background_palette: 'Primary'
					background_hue: '500'
					left_action_items:[['arrow-left', lambda x: app.curre('Tela00')]]
					right_action_items: [['dots-vertical', lambda x:MDDropdownMenu(items=app.menu_items, width_mult=4).open(self)]]
				BoxLayout:
					padding:30
					Botao:
						text:'Como usar o App:'
						
<Box>:
	orientation:'vertical'
	canvas:
		Color:
			rgba:0.13, 0.26, 0.36, 1
		Rectangle:
			size:self.size
			pos:self.pos
	Label:
		text:'Titulo'
		size_hint_y:None
		height:70
	TextInput:
		id:titu
		size_hint_y:None
		height:150
	Label:
		size_hint_y:None
		height:70
		text:'Texto'
	TextInput:
		id:mensa
	MDRaisedButton:
		md_bg_color:get_color_from_hex(colors['Teal']['600'])
		on_release:
			app.addday(root.ids.titu.text, root.ids.mensa.text)
		size:root.width, 100
		text:'Adicionar'
			
<Dia>:
	size_hint_y:None
	height:400
	id:box
	MDCard:
		size_hint: None, None
		size:root.size
		pos_hint: {'center_x': 0.5, 'center_y': 0.7}
		BoxLayout:
			orientation:'vertical'
			padding: dp(8)
			BoxLayout:
				size_hint_y:None
				height:50
				MDLabel:
					id:lab
					text:
				Botao:
					size_hint_x:None
					width:55
					text:'    X'
					on_release:
						app.root.ids.boxi.remove_widget(root)
						app.put(root.ids.lab.text)
					canvas.before:
						Color:
							rgba:1, 0, 0, 1
						Rectangle:
							pos:self.pos
							size:self.size
			MDSeparator:
				height:dp(1)
			BoxLayout:
				Botao:
					id:lab2
					on_release:
						app.root.ids.sm.transition.direction = 'left'
						app.change(root.ids.lab.text, root.ids.lab2.text)


<Botao@ButtonBehavior+MDLabel>:
	canvas.before:
		Color:
			rgba:1, 1, 1, 1
		Rectangle:
			pos:self.pos
			size:self.size
